# MONOLITH MECH HARDPOINTS
- type: entity
  id: LightMechMount
  abstract: true
  categories: [ HideSpawnMenu ]
  components:
  - type: Mech
    equipmentWhitelist:
      tags:
      - LightMechMount
      - IFFMechMount

- type: entity
  id: MediumMechMount
  abstract: true
  categories: [ HideSpawnMenu ]
  components:
  - type: Mech
    equipmentWhitelist:
      tags:
      - MediumMechMount
      - IFFMechMount

- type: entity
  id: LightMultiroleMount
  abstract: true
  categories: [ HideSpawnMenu ]
  components:
  - type: Mech
    equipmentWhitelist:
      tags:
      - MediumMechMount
      - LightMechMount
      - IFFMechMount

- type: entity
  id: HeavyMechMount
  abstract: true
  categories: [ HideSpawnMenu ]
  components:
  - type: Mech
    equipmentWhitelist:
      tags:
      - HeavyMechMount
      - IFFMechMount

- type: entity
  id: EWARMechMount
  abstract: true
  categories: [ HideSpawnMenu ]
  components:
  - type: Mech
    equipmentWhitelist:
      tags:
      - EWARMechMount
      - LightMechMount
      - IFFMechMount

# S1 TSF/PDV Mechs

# TSF Gygax
- type: entity
  id: MechGygaxTSF
  parent: MechGygax
  name: TSF Gygax
  description: While lightly armored, the Gygax has incredible mobility thanks to its ability to punch through walls at high speeds.
  components:
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: Objects/Specific/Mech/mecha.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: tsfgygax
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: Mech
    baseState: tsfgygax
    openState: tsfgygax-open
    brokenState: tsfgygax-broken
  - type: RadarBlip # Mono
    radarColor: "#047ABD"
    scale: 1.5
    requireNoGrid: true
    shape: square

# PDV Gygax
- type: entity
  id: MechGygaxPDV
  parent: MechGygax
  name: PDV Gygax
  description: While lightly armored, the Gygax has incredible mobility thanks to its ability to punch through walls at high speeds.
  components:
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: Objects/Specific/Mech/mecha.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: pdvgygax
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: Mech
    baseState: pdvgygax
    openState: pdvgygax-open
    brokenState: pdvgygax-broken
  - type: RadarBlip # Mono
    radarColor: "#ffde21"
    scale: 1.5
    requireNoGrid: true
    shape: square

# TSF Durand
- type: entity
  id: MechDurandTSF
  parent: MechDurand
  name: TSF Durand
  description: A slow but beefy combat exosuit that is extra scary in confined spaces due to its punches. Xenos hate it!
  components:
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: Objects/Specific/Mech/mecha.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: tsfdurand
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: Mech
    baseState: tsfdurand
    openState: tsfdurand-open
    brokenState: tsfdurand-broken
  - type: RadarBlip # Mono
    radarColor: "#047ABD"
    scale: 1.5
    requireNoGrid: true
    shape: square

# PDV Durand
- type: entity
  id: MechDurandPDV
  parent: MechDurand
  name: PDV Durand
  description: A slow but beefy combat exosuit that is extra scary in confined spaces due to its punches. Xenos hate it!
  components:
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: Objects/Specific/Mech/mecha.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: pdvdurand
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: Mech
    baseState: pdvdurand
    openState: pdvdurand-open
    brokenState: pdvdurand-broken
  - type: RadarBlip # Mono
    radarColor: "#ffde21"
    scale: 1.5
    requireNoGrid: true
    shape: square


# S2 Mechas
- type: entity
  id: BaseAFInterceptor
  parent: [ BaseMech, LightMechMount ]
  abstract: true
  categories: [ HideSpawnMenu ]
  name: AF-28 "Broadsword"
  description: One of the first purpose built Armored Frames, made to engage light targets and other Armored Frames.
  components:
  - type: Fixtures
    fixtures: # Custom hitbox
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 0.9
        density: 300
        restitution: 0.0
        mask:
        - MobMask
        layer:
        - MobLayer
        - MachineLayer
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: _Mono/Objects/Specific/Mech/mechaS2.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: broadsword
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: FootstepModifier
    footstepSoundCollection:
      path: /Audio/Mecha/sound_mecha_powerloader_step.ogg
  - type: Mech
    baseState: broadsword
    openState: broadsword-open
    brokenState: broadsword-broken
    mechToPilotDamageMultiplier: 0
    criticalPowerStateSpeedPenalty: 0.85
    maxEquipmentAmount: 3
    airtight: true
    maxIntegrity: 1500
    pilotWhitelist:
      components:
        - HumanoidAppearance
        - BorgChassis
    zoom: 1.5, 1.5
  - type: MeleeWeapon
    hidden: true
    attackRate: 1
    damage:
      types:
        Blunt: 25
        Structural: 260
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 2000
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: start
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: RadarConsole
    followEntity: true
  - type: Appearance
  - type: GenericVisualizer
  # EXTREMELY slow in gravity. Only really good to taxi, and that's about it.
  - type: MovementSpeedModifier
    baseWalkSpeed: 0.75
    baseSprintSpeed: 1.33
    baseWeightlessModifier: 40
  - type: RadarBlip
    radarColor: "#E3E3E3"
    scale: 3
    requireNoGrid: true
    shape: square
  - type: Damageable
    damageModifierSet: MechArmorMedium
  - type: Repairable
    fuelCost: 40
    doAfterDelay: 30
  - type: StaticPrice
    price: 3000
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound
    - Broadsword
  - type: Prying
    pryPowered: true
    speedModifier: 3
    useSound:
      path: /Audio/Items/jaws_pry.ogg

- type: entity
  id: AFInterceptor
  parent: BaseAFInterceptor
  components:
  - type: CanMoveInAir
  - type: MovementAlwaysTouching

- type: entity
  id: AFInterceptorBattery
  parent: AFInterceptor
  suffix: Battery
  components:
  - type: ContainerFill
    containers:
      mech-battery-slot:
      - PowerCageHigh

#TSF Broadsword
- type: entity
  id: AFInterceptorTSF
  parent: AFInterceptor
  name: TSF AF-28 "Broadsword"
  description: One of the first purpose built Armored Frames, made to engage light targets and other Armored Frames.
  components:
  - type: Mech
    baseState: tsfbroadsword
    openState: tsfbroadsword-open
    brokenState: tsfbroadsword-broken
  - type: RadarBlip
    radarColor: "#047ABD"
    scale: 3
    requireNoGrid: true
    shape: square

#PDV Broadsword
- type: entity
  id: AFInterceptorPDV
  parent: AFInterceptor
  name: PDV AF-28 "Broadsword"
  description: One of the first purpose built Armored Frames, made to engage light targets and other Armored Frames.
  components:
  - type: Mech
    baseState: pdvbroadsword
    openState: pdvbroadsword-open
    brokenState: pdvbroadsword-broken
  - type: RadarBlip
    radarColor: "#ffde21"
    scale: 3
    requireNoGrid: true
    shape: square

#Halberd

- type: entity
  id: AFInterceptorM
  parent: [LightMultiroleMount, AFInterceptor]
  name: AF-28-M "Halberd"
  description: A modification of the Broadsword, the Halberd sacrifices armor and speed for heavier weapon mounts.
  components:
  - type: Mech
    baseState: broadsword
    openState: broadsword-open
    brokenState: broadsword-broken
    mechToPilotDamageMultiplier: 0
    criticalPowerStateSpeedPenalty: 0.85
    maxEquipmentAmount: 3
    airtight: true
    maxIntegrity: 1100
    pilotWhitelist:
      components:
        - HumanoidAppearance
        - BorgChassis
    zoom: 1.75, 1.75
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 1600
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: start
      - !type:DoActsBehavior
        acts: ["Destruction"]
  # EXTREMELY slow in gravity. Only really good to taxi, and that's about it.
  - type: MovementSpeedModifier
    baseWalkSpeed: 0.75
    baseSprintSpeed: 1.33
    baseWeightlessModifier: 35
  - type: Damageable
    damageModifierSet: MechArmorLight
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound
    - Halberd
    - MilitaryMechBounty

#TSF Halberd
- type: entity
  id: AFInterceptorMTSF
  parent: AFInterceptorM
  name: TSF AF-28-M "Halberd"
  description: A modification of the Broadsword, the Halberd sacrifices armor and speed for heavier weapon mounts.
  components:
  - type: Mech
    baseState: tsfbroadsword
    openState: tsfbroadsword-open
    brokenState: tsfbroadsword-broken
  - type: RadarBlip
    radarColor: "#047ABD"
    scale: 3
    requireNoGrid: true
    shape: square

#PDV Halberd
- type: entity
  id: AFInterceptorMPDV
  parent: AFInterceptorM
  name: PDV AF-28-M "Halberd"
  description: A modification of the Broadsword, the Halberd sacrifices armor and speed for heavier weapon mounts.
  components:
  - type: Mech
    baseState: pdvbroadsword
    openState: pdvbroadsword-open
    brokenState: pdvbroadsword-broken
  - type: RadarBlip
    radarColor: "#ffde21"
    scale: 3
    requireNoGrid: true
    shape: square

#Sabre
- type: entity
  id: AFInterceptorG
  parent: [LightMultiroleMount, AFInterceptor]
  name: AF-28-G "Sabre"
  description: A modification of the Broadsword, the Sabre sacrifices it's jetpack and spaceproof shielding to function on planets. Has two hardpoints, which can carry Light or Medium hardpoints.
  components:
  - type: Mech
    baseState: broadsword
    openState: broadsword-open
    brokenState: broadsword-broken
    mechToPilotDamageMultiplier: 0
    criticalPowerStateSpeedPenalty: 0.45
    maxEquipmentAmount: 3
    airtight: false
    maxIntegrity: 1400
    pilotWhitelist:
      components:
        - HumanoidAppearance
        - BorgChassis
    zoom: 1.15, 1.15 # its a ground mech.
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 2000
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: start
      - !type:DoActsBehavior
        acts: ["Destruction"]
  # Terrible radar, mostly good for navigating planets
  - type: RadarConsole
    followEntity: true
  - type: DetectionRangeMultiplier
    infraredMultiplier: 0.5
    visualMultiplier: 0.75
  # Only ground-based mecha so far. Don't use it in space. Can't move in space.
  - type: MovementSpeedModifier
    baseWalkSpeed: 3
    baseSprintSpeed: 6
    baseWeightlessModifier: 0.66 # Barely usable in space.
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound
    - Sabre
    - MilitaryMechBounty

#TSF Sabre
- type: entity
  id: AFInterceptorGTSF
  parent: AFInterceptorG
  name: TSF AF-28-G "Sabre"
  description: A modification of the Broadsword, the Sabre sacrifices it's jetpack and spaceproof shielding to function on planets. Has two hardpoints, which can carry Light or Medium hardpoints.
  components:
  - type: Mech
    baseState: tsfbroadsword
    openState: tsfbroadsword-open
    brokenState: tsfbroadsword-broken
  - type: RadarBlip
    radarColor: "#047ABD"
    scale: 3
    requireNoGrid: true
    shape: square

#PDV Sabre
- type: entity
  id: AFInterceptorGPDV
  parent: AFInterceptorG
  name: PDV AF-28-G "Sabre"
  description: A modification of the Broadsword, the Sabre sacrifices it's jetpack and spaceproof shielding to function on planets. Has two hardpoints, which can carry Light or Medium hardpoints.
  components:
  - type: Mech
    baseState: pdvbroadsword
    openState: pdvbroadsword-open
    brokenState: pdvbroadsword-broken
  - type: RadarBlip
    radarColor: "#ffde21"
    scale: 3
    requireNoGrid: true
    shape: square

#4x4 mechas
- type: entity
  id: AFFlail
  parent: [ BaseMech, HeavyMechMount ]
  name: ASF-59 "Flail"
  description: Newest mech on the market, the Armored Strike Frame is built to tackle ship-sized foes with it's oversized weapon mounts. Slow as a pig however, it tacks on generous armor plating to survive it's runs.
  components:
  - type: Fixtures
    fixtures: # Custom hitbox
      fix1:
        shape:
          !type:PhysShapeCircle
          radius: 1.4
        density: 600
        restitution: 0.0
        mask:
        - MobMask
        layer:
        - MobLayer
        - MachineLayer
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: _Mono/Objects/Specific/Mech/mechaS4.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: flail
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: FootstepModifier
    footstepSoundCollection:
      path: /Audio/Mecha/sound_mecha_powerloader_step.ogg
  - type: Mech
    baseState: flail
    openState: flail-open
    brokenState: flail-broken
    mechToPilotDamageMultiplier: 0
    criticalPowerStateSpeedPenalty: 0.85
    maxEquipmentAmount: 3
    airtight: true
    maxIntegrity: 4000
    pilotWhitelist:
      components:
        - HumanoidAppearance
        - BorgChassis
    zoom: 3, 3
  - type: MeleeWeapon
    hidden: true
    attackRate: 1
    damage:
      types:
        Blunt: 50
        Structural: 550
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 4000
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: start
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: RadarConsole
    followEntity: true
  - type: Appearance
  - type: GenericVisualizer
  - type: CanMoveInAir
  - type: MovementAlwaysTouching
  # EXTREMELY slow in gravity. Only really good to taxi, and that's about it. Even worse than S2s
  - type: MovementSpeedModifier
    baseWalkSpeed: 0.5
    baseSprintSpeed: 1
    baseWeightlessModifier: 35
  - type: RadarBlip
    radarColor: "#E3E3E3"
    scale: 3
    requireNoGrid: true
    shape: square
  - type: Damageable
    damageModifierSet: MechArmorHeavy
  - type: Repairable
    fuelCost: 60
    doAfterDelay: 40
  - type: StaticPrice
    price: 3000
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound
    - Flail
    - MilitaryMechBounty
  - type: Prying
    pryPowered: true
    speedModifier: 5
    useSound:
      path: /Audio/Items/jaws_pry.ogg

- type: entity
  id: AFFlailTSF
  parent: AFFlail
  name: TSF ASF-59 "Flail"
  description: Newest mech on the market, the Armored Strike Frame is built to tackle ship-sized foes with it's oversized weapon mounts. Slow as a pig however, it tacks on generous armor plating to survive it's runs.
  components:
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: _Mono/Objects/Specific/Mech/mechaS4.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: tsfflail
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: Mech
    baseState: tsfflail
    openState: tsfflail-open
    brokenState: tsfflail-broken
  - type: RadarBlip
    radarColor: "#047ABD"
    scale: 3
    requireNoGrid: true
    shape: square

- type: entity
  id: AFFlailPDV
  parent: AFFlail
  name: PDV ASF-59 "Flail"
  description: Newest mech on the market, the Armored Strike Frame is built to tackle ship-sized foes with it's oversized weapon mounts. Slow as a pig however, it tacks on generous armor plating to survive it's runs.
  components:
  - type: Sprite
    drawdepth: Mobs
    noRot: true
    sprite: _Mono/Objects/Specific/Mech/mechaS4.rsi
    layers:
    - map: [ "enum.MechVisualLayers.Base" ]
      state: pdvflail
    - map: ["enum.PaperLabelVisuals.Layer"]
      sprite: Structures/Storage/Crates/labels.rsi
      state: paper
  - type: Mech
    baseState: pdvflail
    openState: pdvflail-open
    brokenState: pdvflail-broken
  - type: RadarBlip
    radarColor: "#ffde21"
    scale: 3
    requireNoGrid: true
    shape: square

- type: entity
  id: AFFlailE
  parent: [EWARMechMount, AFFlail]
  name: ASF-59-E "Spyglass"
  description: An extremely specialized mech based off the Flail Chassis. Uses sophisticated radar systems to provide command and control capabilities, in addition to employing advanced EWAR weaponry.
  components:
  - type: Mech
    baseState: flail
    openState: flail-open
    brokenState: flail-broken
    mechToPilotDamageMultiplier: 0
    criticalPowerStateSpeedPenalty: 0.85
    maxEquipmentAmount: 3
    airtight: true
    maxIntegrity: 2250
    pilotWhitelist:
      components:
        - HumanoidAppearance
        - BorgChassis
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 3000
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: start
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: RadarConsole
    followEntity: true
  - type: DetectionRangeMultiplier #In exchange for its otherwise completely ass stats and the tradeoff of needing someone *in* the mech to use it, this is an overwatch computer.
    infraredMultiplier: 2
    visualMultiplier: 4
  # EXTREMELY slow in gravity. Only really good to taxi, and that's about it. Even worse than S2s
  - type: MovementSpeedModifier
    baseWalkSpeed: 0.4
    baseSprintSpeed: 0.8
    baseWeightlessModifier: 30
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound
    - Spyglass
    - MilitaryMechBounty

- type: entity
  id: AFFlailETSF
  parent: AFFlailE
  name: TSF ASF-59-E "Spyglass"
  description: An extremely specialized mech based off the Flail Chassis. Uses sophisticated radar systems to provide command and control capabilities, in addition to employing advanced EWAR weaponry.
  components:
  - type: Mech
    baseState: tsfflail
    openState: tsfflail-open
    brokenState: tsfflail-broken
  - type: RadarBlip
    radarColor: "#047ABD"
    scale: 3
    requireNoGrid: true
    shape: square

- type: entity
  id: AFFlailEPDV
  parent: AFFlailE
  name: PDV ASF-59-E "Spyglass"
  description: An extremely specialized mech based off the Flail Chassis. Uses sophisticated radar systems to provide command and control capabilities, in addition to employing advanced EWAR weaponry.
  components:
  - type: Mech
    baseState: pdvflail
    openState: pdvflail-open
    brokenState: pdvflail-broken
  - type: RadarBlip
    radarColor: "#ffde21"
    scale: 3
    requireNoGrid: true
    shape: square

- type: entity
  id: AFMace
  parent: AFFlail
  name: ASF-59-B "Mace"
  description: A haphazard refit, armor plating is stripped off to add oversized boosters to the machine. Due to the power constraints, it can only equip a single weapon, limiting versatilty. Fits Heavy Mounts.
  components:
  - type: Mech
    baseState: flail
    openState: flail-open
    brokenState: flail-broken
    mechToPilotDamageMultiplier: 0
    criticalPowerStateSpeedPenalty: 0.95
    maxEquipmentAmount: 1
    airtight: true
    maxIntegrity: 2000
    pilotWhitelist:
      components:
        - HumanoidAppearance
        - BorgChassis
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 3000
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
      - !type:ChangeConstructionNodeBehavior
        node: start
      - !type:DoActsBehavior
        acts: ["Destruction"]
  - type: MovementSpeedModifier
    baseWalkSpeed: 0.5
    baseSprintSpeed: 1.2
    baseWeightlessModifier: 50
  - type: Tag
    tags:
    - DoorBumpOpener
    - FootstepSound
    - Mace
    - MilitaryMechBounty

- type: entity
  id: AFMaceTSF
  parent: AFMace
  name: TSF ASF-59-B "Mace"
  description: A haphazard refit, armor plating is stripped off to add oversized boosters to the machine. Due to the power constraints, it can only equip a single weapon, limiting versatilty. Fits Heavy Mounts.
  components:
  - type: Mech
    baseState: tsfflail
    openState: tsfflail-open
    brokenState: tsfflail-broken
  - type: RadarBlip
    radarColor: "#047ABD"
    scale: 3
    requireNoGrid: true
    shape: square

- type: entity
  id: AFMacePDV
  parent: AFMace
  name: PDV ASF-59-B "Mace"
  description: A haphazard refit, armor plating is stripped off to add oversized boosters to the machine. Due to the power constraints, it can only equip a single weapon, limiting versatilty. Fits Heavy Mounts.
  components:
  - type: Mech
    baseState: pdvflail
    openState: pdvflail-open
    brokenState: pdvflail-broken
  - type: RadarBlip
    radarColor: "#ffde21"
    scale: 3
    requireNoGrid: true
    shape: square
